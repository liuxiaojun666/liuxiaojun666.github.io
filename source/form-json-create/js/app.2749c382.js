(function(e){function t(t){for(var r,o,a=t[0],u=t[1],p=t[2],s=0,d=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(d.length)d.shift()();return l.push.apply(l,p||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(r=!1)}r&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},l=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var p=0;p<a.length;p++)t(a[p]);var c=u;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),i=n.n(r);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("form-json-create",{attrs:{option:e.option,rule:e.rule}})],1)},l=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.option&&e.rule?n("form-create",{attrs:{option:e.processedOption,rule:e.rule},on:{mounted:e.formMounted},model:{value:e.fApi,callback:function(t){e.fApi=t},expression:"fApi"}}):e._e()},a=[],u=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("d81d"),n("13d5"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("c3c5")),p=n("284c"),c=n("2fa7"),s=n("30ba"),d=n.n(s);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={props:{option:{type:Object,required:!0},rule:{type:Array,required:!0},edit:{type:Boolean,default:!1},expand:{type:Object,default:function(){return{}}}},components:{formCreate:d.a.$form()},data:function(){return{fApi:{},processedOption:this.processOption()}},methods:{formMounted:function(e){var t=this;this.evil(this.option.mounted,v({},this.expand))(e),this.edit&&this.option.writeBack&&this.evil(this.option.writeBack,v({},this.expand,{$f:e}))(),e.updateOptions({onSubmit:this.evil(this.option.onSubmit,v({$f:e},this.expand))}),e.fields().forEach((function(n){var r=e.getRule(n);e.updateRule(n,{on:Object.keys(r.on).reduce((function(n,i){return n[i]=t.evil(r.on[i],v({$f:e},t.expand)),n}),{})})}))},processOption:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option,t=v({},e);return delete t.mounted,delete t.onSubmit,t},evil:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"return ",r=Object.keys(t),i=Function;return Object(u["a"])(i,Object(p["a"])(r).concat([n+e])).apply(void 0,Object(p["a"])(r.map((function(e){return t[e]}))))}}},b=y,g=n("2877"),m=Object(g["a"])(b,o,a,!1,null,null,null),h=m.exports,O={rule:[{type:"select",field:"depid",title:"所属部门",value:"",props:{filterable:!0,clearable:!0},options:[]},{type:"input",title:"电站编号",field:"stationcode",value:"",props:{type:"text",placeholder:"请输入电站编号"},validate:[{required:!0,message:"请输入电站编号",trigger:"blur"}]},{type:"input",title:"电站简称",field:"stationname",value:"",props:{type:"text",placeholder:"请输入电站简称"},validate:[{required:!0,message:"请输入电站简称",trigger:"blur"}]},{type:"input",title:"电站全称",field:"stationfullname",value:"",props:{type:"text",placeholder:"请输入电站全称"},validate:[{required:!0,message:"请输入电站全称",trigger:"blur"}]},{type:"select",field:"stationClass",title:"电站分类",value:"",options:[{value:"01",label:"光伏电站"},{value:"02",label:"风电电站"},{value:"03",label:"电能站"},{value:"04",label:"火电"}],validate:[{required:!0,message:"请选择电站分类",trigger:"blur"}]},{type:"select",field:"stationType",title:"电站类型",value:"",props:{clearable:!0},options:[{value:"01",label:"地面电站"},{value:"02",label:"分布式电站"},{value:"03",label:"用户电站"}]},{type:"select",field:"managerid",title:"负责人",value:"",props:{filterable:!0,clearable:!0},options:[]},{type:"input",title:"总装机量(kW)",field:"buildcapacity",value:"",props:{type:"text",placeholder:"请输入总装机量(kW)"}},{type:"DatePicker",title:"投产日期",field:"productiondate",value:"",props:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择投产日期",style:"width: 100%;"}},{type:"DatePicker",title:"停产日期",field:"closedate",value:"",props:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择停产日期",style:"width: 100%;"}},{type:"select",field:"lineInType",title:"电站接入方式",value:"",props:{clearable:!0},options:[]},{type:"input",title:"保险公司名称",field:"insureName",value:"",props:{type:"text",placeholder:"请输入保险公司名称"}},{type:"input",title:"保险公司联系人",field:"insureCont",value:"",props:{type:"text",placeholder:"请输入保险公司联系人"}},{type:"input",title:"保险公司联系电话",field:"insureTel",value:"",props:{type:"text",placeholder:"请输入保险公司联系电话"}},{type:"select",field:"status",title:"电站状态",value:"",props:{clearable:!0},options:[{value:"00",label:"投产使用"},{value:"01",label:"在建"},{value:"02",label:"规划中"},{value:"03",label:"停用"}]},{type:"upload",field:"picture0",title:"实景图",value:["http://img1.touxiang.cn/uploads/20131030/30-075657_191.jpg","http://img1.touxiang.cn/uploads/20131030/30-075657_191.jpg"],col:{span:24},props:{uploadType:"image",action:"/PowerStation/update.htm",data:{},multiple:!0,accept:"image/*",format:["jpg","jpeg","png","gif"],limit:3,"list-type":"text","auto-upload":!1}},{type:"select",field:"provinceid",title:"省",value:"",props:{filterable:!0},options:[],validate:[{required:!0,message:"请输入电站编号",trigger:"blur"}],on:{change:"function (val) {\n                    $f.setValue({ cityid: '' })\n                    $f.updateRule('cityid', { options: [] })\n                    $solwayApi.get($baseApi + '/BaseRegion/selectByTreeLevel.htm', {treeLevel: 2, parentId: val}).then(function (res) {\n                        $f.updateRule('cityid', {\n                            options: res.map(function (v) {\n                                return {\n                                    label: v.regionName,\n                                    value: v.id\n                                }\n                            })\n                        })\n                    })\n                }"}},{type:"select",field:"cityid",title:"市",value:"",props:{filterable:!0},options:[],validate:[{required:!0,message:"请输入电站编号",trigger:"blur"}],on:{change:"function (val) {\n                    $f.setValue({ countyid: '' })\n                    $f.updateRule('countyid', { options: [] })\n                    $solwayApi.get($baseApi + '/BaseRegion/selectByTreeLevel.htm', {treeLevel: 3, parentId: val}).then(function (res) {\n                        $f.updateRule('countyid', {\n                            options: res.map(function (v) {\n                                return {\n                                    label: v.regionName,\n                                    value: v.id\n                                }\n                            })\n                        })\n                    })\n                }"}},{type:"select",field:"countyid",title:"区/县",value:"",props:{filterable:!0},options:[],validate:[{required:!0,message:"请输入电站编号",trigger:"blur"}],on:{change:"function (val) {\n                    $f.setValue({ address: '' })\n\n                    var province = $f.getRule('provinceid');\n                    if (!province.value) return;\n                    var provinceStr = province.options.find(function (v) { return v.value === province.value }).label;\n\n                    var city = $f.getRule('cityid');\n                    if (!city.value) return;\n                    var cityStr = city.options.find(function (v) { return v.value === city.value }).label;\n\n                    var county = $f.getRule('countyid');\n                    if (!county.value) return;\n                    var countyStr = county.options.find(function (v) { return v.value === county.value }).label;\n\n                    var str = provinceStr + cityStr + countyStr;\n                    $solwayApi.get($baseApi + '/GetLatAndLngByBaidu/getlatandlng.htm', {add: str}).then(function (res) {\n                        $f.setValue({\n                            longitude: res[0],\n                            latitude: res[1]\n                        })\n                    })\n                }"}},{type:"input",title:"详细地址",field:"address",value:"",props:{type:"text"},validate:[{required:!0,message:"请输入详细地址",trigger:"blur"}],on:{blur:"function (event) {\n                    var province = $f.getRule('provinceid');\n                    if (!province.value) return;\n                    var provinceStr = province.options.find(function (v) { return v.value === province.value }).label;\n\n                    var city = $f.getRule('cityid');\n                    if (!city.value) return;\n                    var cityStr = city.options.find(function (v) { return v.value === city.value }).label;\n\n                    var county = $f.getRule('countyid');\n                    if (!county.value) return;\n                    var countyStr = county.options.find(function (v) { return v.value === county.value }).label;\n\n                    var str = provinceStr + cityStr + countyStr + $f.getValue('address')\n                    $solwayApi.get($baseApi + '/GetLatAndLngByBaidu/getlatandlng.htm', {add: str}).then(function (res) {\n                        $f.setValue({\n                            longitude: res[0],\n                            latitude: res[1]\n                        })\n                    })\n                }"}},{type:"input",title:"经度",field:"longitude",value:"",props:{placeholder:"总位数不超过11位",type:"number"},validate:[{max:11,message:"总位数不超过11位(含小数点)",trigger:"blur"}]},{type:"input",title:"纬度",field:"latitude",value:"",props:{type:"number"},validate:[{max:11,message:"总位数不超过11位(含小数点)",trigger:"blur"}]},{type:"input",title:"联系电话",field:"stationtel",value:"",props:{type:"text"},validate:[{required:!0,message:"请输入联系电话",trigger:"blur"}]},{type:"input",title:"邮编",field:"stationzip",value:"",props:{type:"text"}}],option:{onSubmit:"function (formData) {\n            console.log('submit')\n            $f.submitBtnProps({loading:true})\n            setTimeout(function(){\n                $f.submitBtnProps({loading:false})\n                $f.destroy()\n            }, 1000)\n        }",writeBack:"function () {\n            // $f.setValue({\n            //     insureTel: 55544463\n            // })\n        }",mounted:"function ($f) {\n            \n            $f.updateRule('productiondate', {\n                props: {\n                    'picker-options': {\n                        disabledDate: function (time) {\n                            return time.getTime() > Date.now()\n                        }\n                    }\n                }\n            })\n            $f.updateRule('closedate', {\n                props: {\n                    'picker-options': {\n                        disabledDate: function (time) {\n                            return time.getTime() > Date.now()\n                        }\n                    }\n                }\n            })\n            $f.updateRule('picture0', {\n                props: {\n                    onSuccess: function (res, file) {\n\n                    }\n                }\n            })\n        }",global:{"*":{col:{span:8}}},submitBtn:{col:{span:4,offset:20}}}},$={name:"app",components:{FormJsonCreate:h},data:function(){return{option:O.option,rule:O.rule}}},j=$,w=(n("034f"),Object(g["a"])(j,i,l,!1,null,null,null)),x=w.exports,S=n("5c96"),P=n.n(S);n("0fae");r["default"].config.productionTip=!1,r["default"].use(P.a),new r["default"]({render:function(e){return e(x)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.2749c382.js.map